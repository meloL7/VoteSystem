<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <title>主页</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta content="Premium Multipurpose Admin & Dashboard Template" name="description"/>
    <meta content="MyraStudio" name="author"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">




    <!-- App favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.ico">

    <!-- Plugins css -->
    <link href="../plugins/bootstrap-touchspin/jquery.bootstrap-touchspin.css" rel="stylesheet" type="text/css"/>
    <link href="../plugins/daterangepicker/daterangepicker.css" rel="stylesheet" type="text/css"/>

    <link href="../plugins/switchery/switchery.min.css" rel="stylesheet" type="text/css"/>
    <link href="../plugins/bootstrap-colorpicker/bootstrap-colorpicker.min.css" rel="stylesheet" type="text/css"/>
    <link href="../plugins/bootstrap-datepicker/bootstrap-datepicker.min.css" rel="stylesheet" type="text/css"/>


    <!-- App css -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/icons.min.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/theme.min.css" rel="stylesheet" type="text/css"/>

    <style>
        .bootstrap-select{
            min-width: 1080px;

        }
    </style>


</head>

<body>

<!-- Begin page -->
<div id="layout-wrapper">
    <header id="page-topbar">
        <div class="navbar-header">
            <!-- LOGO -->
            <div class="navbar-brand-box d-flex align-items-left">
                <a href="index.html" class="logo">
							<span>
								<img src="assets/images/logo-light.png" alt="" height="18">
							</span>
                    <i>
                        <img src="assets/images/logo-small.png" alt="" height="24">
                    </i>
                </a>
                <button type="button"
                        class="btn btn-sm mr-2 d-lg-none px-3 font-size-16 header-item waves-effect waves-light"
                        id="vertical-menu-btn">
                    <i class="fa fa-fw fa-bars"></i>
                </button>
            </div>
            <div class="dropdown d-inline-block ml-2">
                <button type="button" class="btn header-item waves-effect waves-light" id="page-header-user-dropdown"
                        data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                    <span class="d-none d-sm-inline-block ml-1">Admin</span>
                </button>
            </div>
        </div>
    </header>
</div>


<!-- ========== Left Sidebar Start ========== -->
<div class="vertical-menu">

    <div data-simplebar class="h-100">

        <!--- Sidemenu -->
        <div id="sidebar-menu">
            <!-- Left Menu Start -->
            <ul class="metismenu list-unstyled" id="side-menu">
                <li class="menu-title">菜单</li>
                <li>
                    <a href="index.html" class="waves-effect">
                        <i class="mdi mdi-view-dashboard"></i>
                        <span>首页</span></a>
                </li>
                <li>
                    <a href="javascript: void(0);" class="has-arrow waves-effect">
                        <i class=" mdi mdi-account-multiple-outline"></i>
                        <span>用户管理</span></a>

                    <ul class="sub-menu" aria-expanded="false">
                        <li><a href="teacher.html">教师管理</a></li>
                        <li><a href="student.html">学生管理</a></li>
                    </ul>
                </li>
                <li>
                    <a href="javascript: void(0);" class="has-arrow waves-effect">
                        <i class=" mdi mdi-clipboard-text-play"></i>投票管理</span></a>
                    <ul class="sub-menu" aria-expanded="false">
                        <li><a href="naire_manage.html">问卷管理</a></li>
                        <li><a href="vote_manage.html">选择管理</a></li>
                    </ul>
                </li>

                <li>
                    <a href="javascript: void(0);" class="has-arrow waves-effect">
                        <i class="mdi mdi-book-open-page-variant"></i>
                        <span>投票详情管理</span></a>
                    <ul class="sub-menu" aria-expanded="false">
                        <li><a href="naire_detail.html">问卷详情</a></li>
                        <li><a href="vote_detail.html">选择详情</a></li>
                    </ul>
                </li>
                <li>
                    <a href="javascript: void(0);" class="has-arrow waves-effect waves-light" data-toggle="modal"
                       data-target="#exampleModal">
                        <i class="mdi mdi-equalizer"></i>
                        <span>分析</span></a>

                </li>
                <li>
                    <a href="javascript: void(0);" class="has-arrow waves-effect">
                        <i class="mdi mdi-wrench"></i>
                        <span>系统</span></a>
                    <ul class="sub-menu" aria-expanded="false">
                        <li><a href="pages-invoice.html">退出</a></li>

                    </ul>
                </li>
            </ul>
        </div>
        <!-- Sidebar -->
    </div>
</div>
<!-- Left Sidebar End -->

<!-- ============================================================== -->
<!-- Start right Content here -->
<!-- ============================================================== -->
<div class="main-content">

    <div class="page-content">
        <div class="container-fluid">

            <!-- start page title -->
            <div class="row">
                <div class="col-12">

                </div>
            </div>
            <!-- end page title -->


            <div class="row">
                <div class="col-xl-12">
                    <div class="card">
                        <div class="card-body">

                            <h4 class="card-title">教师管理</h4>
                            <p class="card-subtitle mb-4 font-size-13">教师列表</p>
                            <div class="input-group input-daterange">
                                <!-- <input id="begindate" name="pickdate" style="width: 240px" type="text"
                                placeholder="申请日期(起)" data-date-format="yyyy-mm-dd" class="form-control" />

                            <div class="input-group-addon">~</div>

                            <input id="enddate" name="pickdate" type="text" style="width: 240px"
                                placeholder="申请日期(止)" data-date-format="yyyy-mm-dd" class="form-control" />
                            &nbsp;&nbsp;&nbsp;&nbsp; -->


                                <select class="form-control form-control-sm" id="teacher_select"
                                        style="flex: 0.1 0 auto;">
                                    <option value="0">教师工号</option>
                                    <option value="1">教师姓名</option>
                                    <option value="2">教师院系</option>
                                    <option value="3">教师专业</option>
                                </select>
                                <!-- <div class="form-group">
                                    <label>Threshold value</label>
                                    <input type="text" maxlength="25" name="thresholdconfig" class="form-control" id="thresholdconfig">
                                </div> -->


                                <input id="custname" name="custname" type="text" style="width: 240px" placeholder="..."
                                       class="form-control"
                                       maxlength="16"/>

                                <a style="color: #ffffff;line-height: 25px" class="btn btn-success btn-sm" href="javascript:void(0)" onclick="searchTeacher();return false;"><i
                                        class="feather-search"></i>查询</a>
                            </div>
                            <br><br>
                            <div class="table-responsive">
                                <table class="table table-centered table-striped table-nowrap">
                                    <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>学号/工号</th>
                                        <th>院系</th>
                                        <th>专业</th>
                                        <th>姓名</th>
                                        <th>年龄</th>
                                        <th>性别</th>
                                        <th>邮箱</th>
                                        <th>投票权限</th>
                                        <th>操作</th>
                                    </tr>
                                    </thead>
                                    <tbody id="teacher_list">

                                    </tbody>
                                </table>
                                <table class="table table-centered" id="page_t_table">
                                    <tr>
                                        <td colspan="6" align="center">
                                            <ul class="pagination pagination-rounded">
                                                <li class="paginate_button page-item previous disabled"
                                                    id="complex-header-datatable_previous">
                                                    <a href="#" aria-controls="complex-header-datatable" data-dt-idx="0"
                                                       tabindex="0" class="page-link">
                                                        <i class="mdi mdi-chevron-left"></i>
                                                    </a>
                                                </li>
                                                <li class="paginate_button page-item active">
                                                    <a href="#" aria-controls="complex-header-datatable" data-dt-idx="1"
                                                       tabindex="0" class="page-link">1</a>
                                                </li>
                                                <li class="paginate_button page-item ">
                                                    <a href="#" aria-controls="complex-header-datatable" data-dt-idx="2"
                                                       tabindex="0" class="page-link">2</a>
                                                </li>
                                                <li class="paginate_button page-item ">
                                                    <a href="#" aria-controls="complex-header-datatable" data-dt-idx="3"
                                                       tabindex="0" class="page-link">3</a>
                                                </li>
                                                <li class="paginate_button page-item ">
                                                    <a href="#" aria-controls="complex-header-datatable" data-dt-idx="4"
                                                       tabindex="0" class="page-link">4</a>
                                                </li>
                                                <li class="paginate_button page-item ">
                                                    <a href="#" aria-controls="complex-header-datatable" data-dt-idx="5"
                                                       tabindex="0" class="page-link">5</a>
                                                </li>
                                                <li class="paginate_button page-item ">
                                                    <a href="#" aria-controls="complex-header-datatable" data-dt-idx="6"
                                                       tabindex="0" class="page-link">6</a>
                                                </li>
                                                <li class="paginate_button page-item next"
                                                    id="complex-header-datatable_next">
                                                    <a href="#" aria-controls="complex-header-datatable" data-dt-idx="7"
                                                       tabindex="0" class="page-link"><i
                                                            class="mdi mdi-chevron-right"></i></a>
                                                </li>
                                            </ul>
                                        </td>
                                    </tr>
                                </table>
                            </div>

                        </div> <!-- end card-body-->
                    </div> <!-- end card-->
                </div> <!-- end col -->

            </div>
            <!-- end row-->

        </div> <!-- container-fluid -->
    </div>
    <!-- End Page-content -->
    <!-- modal重置密码 -->
    <div class="modal fade bd-example-modal-sm show" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
         style="display: none; padding-right: 15px;" aria-modal="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title h4" id="mySmallModalLabel">提 示</h5>
                    <button type="button" class="close waves-effect waves-light" data-dismiss="modal"
                            aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>密码重置成功,新密码已发送至用户绑定的邮箱</p>
                </div>
            </div>
        </div>
    </div>


    <!-- modal权限 -->
    <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
         aria-hidden="true" style="display: none;" id="modal1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title h4" id="myLargeModalLabel">权 限 管 理</h5>
                    <button type="button" class="close waves-effect waves-light" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body" style="width: 200px;">

                    <div class="container">
                        <div class="row clearfix">
                            <div class="col-md-12 column">









                                <div class="row clearfix">
                                    <div class="col-md-12 column" id="t1">
                                        学院 :
                                        <select id="colleageselc" class="selectpicker" multiple data-live-search="true"
                                                data-live-search-placeholder="搜索" data-actions-box="true"
                                                onchange="colchange()"
                                        >

                                        </select>
                                    </div>
                                    <br><br><br>
                                    <div class="col-md-12 column" id="t2">
                                        专业 :
                                        <select id="majorselc" class="selectpicker" multiple data-live-search="true" data-live-search-placeholder="搜索"
                                                data-actions-box="true" onchange="majchange()">
                                            <!-- 　<optgroup label="专业">
                                                <option>廖俊杰</option>
                                                <option>option2</option>
                                                <option>option3</option>
                                                <option>option4</option>
                                            </optgroup> -->
                                            　
                                        </select>
                                    </div>
                                    <br><br><br>
                                    <div class="col-md-12 column" id="t3">
                                        年级 :
                                        <select id="gradeselc" class="selectpicker" multiple data-live-search="true" data-live-search-placeholder="搜索"
                                                data-actions-box="true" onchange="grachange()">
                                            　 <optgroup label="1年级">
                                            <option>廖俊杰</option>
                                            <option>1</option>
                                            <option>2</option>
                                            <option>3</option>
                                        </optgroup>
                                            <optgroup label="2年级">
                                                <option>廖俊杰</option>
                                                <option>1</option>
                                                <option>2</option>
                                                <option>3</option>
                                            </optgroup>
                                            　
                                        </select>
                                    </div>
                                    <br><br><br>
                                    <div class="col-md-12 column" id="t4">
                                        班级：
                                        <select id="classesselc" class="selectpicker" multiple data-live-search="true" data-live-search-placeholder="搜索"
                                                data-actions-box="true" onchange="clachange()">
                                            　<optgroup label="班级">
                                            <option>廖俊杰</option>
                                            <option>4</option>
                                            <option>5</option>
                                            <option>6</option>
                                        </optgroup>

                                            　
                                        </select>

                                    </div>
                                    <br><br><br>
                                    <div class="col-md-12 column" id="t5">
                                        范围 :
                                        <select id="rangeselc" class="selectpicker" multiple data-live-search="true" data-live-search-placeholder="搜索"
                                                data-actions-box="true" onchange="ranchange()">
                                            　<optgroup label="范围">
                                            <option>廖俊杰</option>
                                            <option>7</option>
                                            <option>8</option>
                                            <option>9</option>
                                        </optgroup>
                                            　
                                        </select>
                                    </div>
                                </div>





                            </div>
                        </div>
                    </div>






                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary waves-effect waves-light" data-dismiss="modal">Close</button>



                    <!-- 这里需要上传到数据库 -->
                    <button id="powerchange" type="button" onclick="printInfo()" class="btn btn-primary waves-effect waves-light">Save
                        changes</button>

                </div>



            </div>
        </div>
    </div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="changeemail"
     style="display: none;"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalCenterTitle">提 示</h5>
                <button type="button" class="close waves-effect waves-light" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <h5>请输入新的邮箱</h5>

                <input type="email" class="" style="width: 100%;"/>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary waves-effect waves-light" data-dismiss="modal">Close
                </button>


                <!-- 这里需要上传到数据库 -->
                <button id="changeemail" type="button" class="btn btn-primary waves-effect waves-light">Save changes
                </button>

            </div>
        </div>
    </div>
</div>

</div>
<!-- end main content-->
</div>
<!-- END layout-wrapper -->

<!-- Overlay-->
<div class="menu-overlay"></div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     style="display: none;"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">提 示</h5>
                <button type="button" class="close waves-effect waves-light" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                分析需要到投票管理中查看!
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary waves-effect waves-light" data-dismiss="modal">Close
                </button>

            </div>
        </div>
    </div>
</div>

<!-- jQuery  -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/bootstrap.bundle.min.js"></script>
<script src="assets/js/metismenu.min.js"></script>
<script src="assets/js/waves.js"></script>
<script src="assets/js/simplebar.min.js"></script>

<!-- Plugins js -->
<script src="../plugins/autonumeric/autoNumeric-min.js"></script>
<script src="../plugins/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
<script src="../plugins/bootstrap-maxlength/bootstrap-maxlength.min.js"></script>
<script src="../plugins/moment/moment.js"></script>
<script src="../plugins/daterangepicker/daterangepicker.js"></script>
<!--<script src="../plugins/select2/select2.min.js"></script>-->
<script src="../plugins/switchery/switchery.min.js"></script>
<script src="../plugins/bootstrap-colorpicker/bootstrap-colorpicker.min.js"></script>
<script src="../plugins/bootstrap-touchspin/jquery.bootstrap-touchspin.min.js"></script>

<!-- Custom Js -->
<script src="assets/pages/advanced-plugins-demo.js"></script>

<!-- App js -->
<script src="assets/js/theme.js"></script>

<!-- Other js-->
<script src="js/user.js" type="text/javascript"></script>

<script>
    $(document).ready(function () {
        loadTPageData(1);

        $(".page-link").click(function () {
            var indexpage = $(this).html();
            alert(indexpage);
           loadTPageData(indexpage);
        });

    });


</script>

</body>
<script>
    var colleage = "";
    var major = "";
    var grade = "";
    var classes = "";
    var range = "";



    function colchange() {
        // console.log($("#t1"));
        var colleagecontent = myDate("#t1");
        loadMajor(colleagecontent)
        $('#majorselc').selectpicker('val', ['noneSelectedText']) //回到初始状态
        $("#majorselc").selectpicker('refresh'); //刷新

        $('#gradeselc').selectpicker('val', ['noneSelectedText']) //回到初始状态
        $("#gradeselc").selectpicker('refresh'); //刷新

        $('#classesselc').selectpicker('val', ['noneSelectedText']) //回到初始状态
        $("#classesselc").selectpicker('refresh'); //刷新

        $('#rangeselc').selectpicker('val', ['noneSelectedText']) //回到初始状态
        $("#rangeselc").selectpicker('refresh'); //刷新
    }

    function majchange() {
        loadMajor();
        major = myDate("#t2");
        $('#gradeselc').selectpicker('val', ['noneSelectedText']) //回到初始状态
        $("#gradeselc").selectpicker('refresh'); //刷新

        $('#classesselc').selectpicker('val', ['noneSelectedText']) //回到初始状态
        $("#classesselc").selectpicker('refresh'); //刷新

        $('#rangeselc').selectpicker('val', ['noneSelectedText']) //回到初始状态
        $("#rangeselc").selectpicker('refresh'); //刷新
    }

    function grachange() {
        grade = myDate("#t3");
        console.log(grade)
        // uploadClass(grade)


        $('#classesselc').selectpicker('val', ['noneSelectedText']) //回到初始状态
        $("#classesselc").selectpicker('refresh'); //刷新

        $('#rangeselc').selectpicker('val', ['noneSelectedText']) //回到初始状态
        $("#rangeselc").selectpicker('refresh'); //刷新
    }

    function clachange() {
        classes = myDate("#t4");
        $('#rangeselc').selectpicker('val', ['noneSelectedText']) //回到初始状态
        $("#rangeselc").selectpicker('refresh'); //刷新
    }

    function ranchange() {
        range = myDate("#t5");
    }


    function myDate(t) {
        var val = "",
            staffs = [];
        // var group =  $(t).find("li.dropdown-header").eq(0).find(".text").text()

        //循环的取出插件选择的元素(通过是否添加了selected类名判断)
        for (var i = 0; i < $("li.selected").length; i++) {
            var kk = $(t).find("li.selected").eq(i)
            // for(var  j in kk){
            // 	var value = j+"-----"+kk[j]
            // 	console.log(value)
            // }
            var g = kk.attr("class")
            g = `li.${g.substr(0,g.length-8)}`
            // console.log(g)
            var op = $(t).find(g).eq(0).find(".text").text()
            val = $(t).find("li.selected").eq(i).find(".text").text();

            if (val != '') {
                val = op+">"+val
                staffs.	push(val);
            }
            console.log(staffs)
        }

        return staffs;

    }






    // //刷新年级
    // //刷新班级
    // function uploadClass(grad){
    //     var str = `<optgroup label="班级">
	// 			<option>廖俊杰</option>
	// 			<option>4</option>
	// 			<option>5</option>
	// 		    <option>6</option>
	// 		</optgroup>`
    //     for (var i = 0; i < grad.length; i++) {
    //
    //     }
    // }

</script>

</html>
